[{"/Users/jaehan/CS492/src/index.js":"1","/Users/jaehan/CS492/src/App.js":"2","/Users/jaehan/CS492/src/reportWebVitals.js":"3","/Users/jaehan/CS492/src/components/MovieTable.js":"4","/Users/jaehan/CS492/src/components/TopBar.js":"5","/Users/jaehan/CS492/src/components/DateAndTimeTable.js":"6","/Users/jaehan/CS492/src/api.js":"7","/Users/jaehan/CS492/src/components/seat/seat.js":"8"},{"size":500,"mtime":1637733745833,"results":"9","hashOfConfig":"10"},{"size":657,"mtime":1637830435328,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1637733745833,"results":"12","hashOfConfig":"10"},{"size":2234,"mtime":1637829973240,"results":"13","hashOfConfig":"10"},{"size":241,"mtime":1637829973240,"results":"14","hashOfConfig":"10"},{"size":4705,"mtime":1637829973239,"results":"15","hashOfConfig":"10"},{"size":763,"mtime":1637829973239,"results":"16","hashOfConfig":"10"},{"size":3202,"mtime":1637830435329,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"11g8vzq",{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},"/Users/jaehan/CS492/src/index.js",[],"/Users/jaehan/CS492/src/App.js",["40","41","42","43","44","45","46"],"import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\nimport TopBar from \"./components/TopBar\";\nimport MovieTable from \"./components/MovieTable\";\nimport DateAndTimeTable from \"./components/DateAndTimeTable\";\nimport Seat from \"./components/seat/seat\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <TopBar />\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" exact element={<MovieTable />} />\n          <Route path=\"/movieInfo\" element={<DateAndTimeTable />} />\n        </Routes>\n      </BrowserRouter> */}\n      <Seat />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/jaehan/CS492/src/reportWebVitals.js",[],"/Users/jaehan/CS492/src/components/MovieTable.js",["47","48","49"],"import React, { useState } from \"react\";\nimport \"./MovieTable.css\";\n\nimport movie1 from \"./movies/듄.jpg\";\nimport movie2 from \"./movies/이터널스.jpg\";\nimport movie3 from \"./movies/베놈2.jpg\";\nimport movie4 from \"./movies/강릉.jpg\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../api.js\";\n\nconst movies = [\n  { id: 0, name: \"듄\", poster: movie1 },\n  { id: 1, name: \"이터널스\", poster: movie2 },\n  { id: 2, name: \"베놈2\", poster: movie3 },\n  { id: 3, name: \"강릉\", poster: movie4 },\n  { id: 4, name: \"강릉\", poster: movie4 },\n];\n\nconst data2 = api.getAllHalls().then((response) => {\n    console.log(response.data);\n  });\n\nconst MovieTable = ({ movies = [] }) => {\n  const [selected, setSelected] = useState(null);\n  const navigate = useNavigate();\n  return (\n    <div>\n      <div class=\"flex justify-center mt-60 ml-10 text-gray-500 overflow-x-auto \">\n        {movies.map((movie) => (\n          <Movie\n            key={movie.id}\n            movie={movie}\n            selected={selected}\n            setSelected={setSelected}\n          />\n        ))}\n      </div>\n      {selected != null && (\n        <button\n          class=\"w-60 py-3 text-lg rounded-lg bg-gray-200 text-gray-500 absolute right-7 bottom-7\"\n          type=\"submit\"\n          onClick={goNext}\n        >\n          다음\n        </button>\n      )}\n    </div>\n  );\n  function goNext() {\n    navigate(\"/movieInfo\", {\n      name: movies[selected].name,\n      poster: movies[selected].poster,\n    });\n  }\n};\n\nconst Movie = ({ movie, selected, setSelected }) => {\n  const { id, name, poster } = movie;\n  return (\n    <div\n      class={` w-1/4 mr-poster pt-12 pb-6 px-poster border-2 \n      ${selected === id ? \"border-black\" : \"border-white\"} rounded-lg bg-white \n      ${selected === null ? \"hover:border-black\" : \"\"} focus:border-black `}\n      onClick={mouseClick}\n    >\n      <div class=\"rounded-lg\">\n        <img\n          className=\"poster\"\n          src={poster}\n          class=\"object-contain w-full rounded-lg\"\n        ></img>\n      </div>\n      <div class=\"text-center mt-4 text-lg \">{name}</div>\n    </div>\n  );\n\n  function mouseClick(e) {\n    setSelected(id);\n  }\n};\n\nexport default () => <MovieTable movies={movies} />;\n\n","/Users/jaehan/CS492/src/components/TopBar.js",["50","51"],"import React, { useState } from \"react\";\n\nconst TopBar = () => (\n  <div class=\"top-0  h-5screen bg-white text-gray-500 text-right\">\n    <button class=\"px-10 py-5 font-bold\">예약 조회</button>\n  </div>\n);\n\nexport default () => <TopBar />;","/Users/jaehan/CS492/src/components/DateAndTimeTable.js",["52","53","54","55","56","57","58","59"],"\nimport React, { useState } from \"react\";\nimport movie1 from \"./movies/듄.jpg\";\n\nconst times = [\n  { time: \"10:00\", seat: 30 },\n  { time: \"11:00\", seat: 67 },\n  { time: \"12:00\", seat: 44 },\n  { time: \"14:00\", seat: 16 },\n  { time: \"16:00\", seat: 24 },\n  { time: \"18:00\", seat: 98 },\n  { time: \"20:00\", seat: 29 },\n  { time: \"21:00\", seat: 41 },\n];\n\nconst DateAndTimeTable = ({ times = [] }) => {\n  return (\n    <div class=\"w-1/3 h-95screen bg-white font-bold\">\n      <div class=\"h-1/5\">\n        <img src={movie1} class=\"w-1/3 h-full object-cover w-full\"></img>\n      </div>\n      <div class=\"flex h-4/5\">\n        <div class=\"flex-auto h-5/6 overflow-y-scroll\">\n          <DateTable />\n        </div>\n        <div class=\"flex-auto\">\n          <TimeTable times={times} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst DateTable = () => {\n  // let today = new Date();\n  let today = new Date(2021, 11, 1);\n  console.log(dateToString(today).substring(0, 4));\n\n  const [currentYear, setCurrentYear] = useState(\n    dateToString(today).substring(0, 4)\n  );\n  const [currentMonth, setCurrentMonth] = useState(\n    dateToString(today).substring(4, 6)\n  );\n  // const currentYear = dateToString(today).substring(0, 4);\n  // const currentMonth = dateToString(today).substring(4, 6);\n  const [yearChanged, setYearChanged] = useState(false);\n\n  const dates = [dateToString(today)];\n  for (let i = 0; i < 20; i++) {\n    today.setDate(today.getDate() + 1);\n    dates.push(dateToString(today));\n  }\n  // console.log(dates);\n  function dateToString(date1) {\n    let year = date1.getFullYear(); // 년도\n    let month = (\"\" + (date1.getMonth() + 1)).padStart(2, \"0\"); // 월\n    let date = (\"\" + date1.getDate()).padStart(2, \"0\"); // 날짜\n    let day = date1.getDay(); // 요일\n    const days = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\n    return \"\" + year + month + date + days[day];\n  }\n\n  return (\n    <div class=\"font-sans ml-10 mt-10 mx-auto text-gray-500 \">\n      <table>\n        <tbody>\n          <div class=\"font-sans text-center mx-auto text-md \">\n            {currentYear}\n          </div>\n          <div class=\"font-sans text-center mx-auto text-4xl mb-5\">\n            {currentMonth}\n          </div>\n          {dates.map((date) => (\n            <DateRow\n              key={date}\n              date={date}\n              currentYear={currentYear}\n              setCurrentYear={setCurrentYear}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst DateRow = ({ date, currentYear, setCurrentYear }) => {\n  let cur_year = date.substring(0, 4);\n  let cur_month = date.substring(4, 6);\n  let cur_date = date.substring(6, 8);\n  let cur_day = date.substring(8, 9);\n\n  // if (cur_year != currentYear) {\n  //   // console.log(\"year changed\", cur_year);\n  //   // setCurrentYear(\"\");\n  // }\n  return (\n    <div>\n      {/* <tr>\n        <td class=\"ml-20 mr-20 text-xl px-10\">{yearChanged && cur_year}</td>\n      </tr> */}\n      <tr>\n        <td class=\"ml-20 mr-20 text-lg py-3 px-10 rounded-md hover:bg-gray-100 hover:text-blue-500\">\n          <span class=\"mr-3\">{cur_date}</span>\n          <span>{cur_day}</span>\n        </td>\n      </tr>\n    </div>\n  );\n};\n\nconst TimeTable = ({ times = [] }) => {\n  return (\n    <div class=\"font-sans mt-10 mx-auto text-gray-500 font-medium\">\n      <table>\n        <tbody>\n          {times.map((section) => (\n            <TimeRow key={section.time} section={section} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst TimeRow = ({ section }) => {\n  const [isShown, setIsShown] = useState(false);\n  const { time, seat } = section;\n  const seatWithTotal = seat + \"/343\";\n  return (\n    <tr>\n      <td class=\"mr-20 py-5 px-10  tracking-wide text-right rounded-md hover:bg-gray-100 hover:text-blue-500 \">\n        <span\n          onMouseOver={mouseOverTime}\n          onMouseOut={mouseOutTime}\n          class=\"text-4xl \"\n        >\n          {changeTimeForm(time)}\n        </span>\n        <span className=\"ampm\" class=\"text-3xl ml-3 mr-10\">\n          {amOrPm(time)}\n        </span>\n        <span className=\"seat\" class=\"text-sm  pt-4 pr-5 tracking-normal\">\n          {seatWithTotal}\n        </span>\n      </td>\n    </tr>\n  );\n  function mouseOverTime(e) {\n    setIsShown(true);\n  }\n\n  function mouseOutTime(e) {\n    setIsShown(false);\n  }\n};\n\nfunction changeTimeForm(time) {\n  if (time.slice(0, 2) * 1 > 12) {\n    return time.slice(0, 2) * 1 - 12 + \":00\";\n  } else {\n    return time;\n  }\n}\n\nfunction amOrPm(time) {\n  if (time.slice(0, 2) * 1 >= 12) {\n    return \"PM\";\n  } else {\n    return \"AM\";\n  }\n}\n\n// export default () => <TimeTable times={times} />;\nexport default () => <DateAndTimeTable times={times} />;\n\n","/Users/jaehan/CS492/src/api.js",["60","61","62"],"import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:80/reservations\",\n});\n\nconst api2 = axios.create({\n  baseURL: \"http://localhost:80/halls\",\n});\n\n//reservation api\nexport const getAllReservations = (payload) => api.get(\"/\", payload);\nexport const getReservationById = (id, payload) => api.get(\"/${id}\", payload);\nexport const createReservation = (payload) => api.post(\"/\", payload);\nexport const deleteReservation = (id) => api.delete(\"/${id}\");\n\n//halls api\nexport const getAllHalls = () => api2.get(\"/\");\nexport const getHallsByTime = (time) => api2.get(\"/${time}\");\n\nconst apis = {\n  getAllReservations,\n  getReservationById,\n  createReservation,\n  deleteReservation,\n  getAllHalls,\n  getHallsByTime,\n};\n\nexport default apis;\n","/Users/jaehan/CS492/src/components/seat/seat.js",["63","64","65","66"],"import React, { useRef, useEffect, useContext, useState } from \"react\";\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport seatData from \"./seats-kaist.json\";\nimport \"./seat.css\";\n\nfunction Seat() {\n  const canvasRef = useRef(null);\n  const seatMap = seatData.map;\n  const seatInfo = seatData.seats;\n\n  const [selectedSeat, setSeat] = useState([]);\n\n  // Draw seats\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n\n    if (seatInfo != \"undefined\" && seatInfo != null) {\n      seatInfo.forEach((seatgroup) => {\n        seatgroup.rectangles.forEach((seat) => {\n          // Add Seat availablity & id info\n          seat.available = true;\n          context.fillStyle = seatgroup.color;\n          context.fillRect(\n            seat.lefttop.x,\n            seat.lefttop.y,\n            seat.size.width,\n            seat.size.height\n          );\n        });\n      });\n    }\n  }, []);\n\n  // Manage click event\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n\n    canvas.addEventListener(\n      \"click\",\n      function (e) {\n        // Get x, y coordinates\n        var x = e.offsetX;\n        var y = e.offsetY;\n        seatInfo.forEach((seatgroup) => {\n          seatgroup.rectangles.forEach((seat) => {\n            // Detect a selected seat\n            if (\n              seat.lefttop.x < x &&\n              seat.lefttop.x + seat.size.width > x &&\n              seat.lefttop.y < y &&\n              seat.lefttop.y + seat.size.height > y\n            ) {\n              e.preventDefault();\n              // Make a seatNumber\n              // format : \"Alphabet + Number\" ex) \"A10\"\n              // Alphabet : A ~ S\n              // Number   : 1 ~ 29\n              var rownum = (seat.lefttop.y - 11) / 30;\n              var row = String.fromCharCode(rownum + 65);\n              var col = (seat.lefttop.x - 17) / 30 + 1;\n              const seatNum = row + String(col);\n              if (seat.available) {\n                context.fillStyle = \"grey\";\n                seat.available = false;\n                setSeat((selectedSeat) => selectedSeat.concat(seatNum));\n              } else {\n                context.fillStyle = seatgroup.color;\n                seat.available = true;\n                setSeat((selectedSeat) =>\n                  selectedSeat.filter((s) => s !== seatNum)\n                );\n              }\n              context.fillRect(\n                seat.lefttop.x,\n                seat.lefttop.y,\n                seat.size.width,\n                seat.size.height\n              );\n            }\n          });\n        });\n      },\n      false\n    );\n  }, []);\n\n  useEffect(() => {\n    console.log(selectedSeat);\n  }, [selectedSeat]);\n\n  return (\n    <TransformWrapper doubleClick={{ disabled: true }} maxScale={3}>\n      <TransformComponent>\n        <div className=\"seat-layout\">\n          <canvas\n            ref={canvasRef}\n            width={seatMap.size.width}\n            height={seatMap.size.height}\n            color={seatMap.background}\n          ></canvas>\n        </div>\n      </TransformComponent>\n    </TransformWrapper>\n  );\n}\n\nexport default Seat;\n",{"ruleId":"67","severity":1,"message":"68","line":1,"column":8,"nodeType":"69","messageId":"70","endLine":1,"endColumn":12},{"ruleId":"67","severity":1,"message":"71","line":3,"column":10,"nodeType":"69","messageId":"70","endLine":3,"endColumn":23},{"ruleId":"67","severity":1,"message":"72","line":3,"column":25,"nodeType":"69","messageId":"70","endLine":3,"endColumn":31},{"ruleId":"67","severity":1,"message":"73","line":3,"column":33,"nodeType":"69","messageId":"70","endLine":3,"endColumn":38},{"ruleId":"67","severity":1,"message":"74","line":5,"column":8,"nodeType":"69","messageId":"70","endLine":5,"endColumn":14},{"ruleId":"67","severity":1,"message":"75","line":6,"column":8,"nodeType":"69","messageId":"70","endLine":6,"endColumn":18},{"ruleId":"67","severity":1,"message":"76","line":7,"column":8,"nodeType":"69","messageId":"70","endLine":7,"endColumn":24},{"ruleId":"67","severity":1,"message":"77","line":20,"column":7,"nodeType":"69","messageId":"70","endLine":20,"endColumn":12},{"ruleId":"78","severity":1,"message":"79","line":68,"column":9,"nodeType":"80","endLine":72,"endColumn":10},{"ruleId":"81","severity":1,"message":"82","line":83,"column":1,"nodeType":"83","endLine":83,"endColumn":53},{"ruleId":"67","severity":1,"message":"84","line":1,"column":17,"nodeType":"69","messageId":"70","endLine":1,"endColumn":25},{"ruleId":"81","severity":1,"message":"82","line":9,"column":1,"nodeType":"83","endLine":9,"endColumn":33},{"ruleId":"78","severity":1,"message":"79","line":20,"column":9,"nodeType":"80","endLine":20,"endColumn":68},{"ruleId":"67","severity":1,"message":"85","line":42,"column":24,"nodeType":"69","messageId":"70","endLine":42,"endColumn":39},{"ruleId":"67","severity":1,"message":"86","line":47,"column":10,"nodeType":"69","messageId":"70","endLine":47,"endColumn":21},{"ruleId":"67","severity":1,"message":"87","line":47,"column":23,"nodeType":"69","messageId":"70","endLine":47,"endColumn":37},{"ruleId":"67","severity":1,"message":"88","line":89,"column":7,"nodeType":"69","messageId":"70","endLine":89,"endColumn":15},{"ruleId":"67","severity":1,"message":"89","line":90,"column":7,"nodeType":"69","messageId":"70","endLine":90,"endColumn":16},{"ruleId":"67","severity":1,"message":"90","line":128,"column":10,"nodeType":"69","messageId":"70","endLine":128,"endColumn":17},{"ruleId":"81","severity":1,"message":"82","line":176,"column":1,"nodeType":"83","endLine":176,"endColumn":57},{"ruleId":"91","severity":1,"message":"92","line":13,"column":60,"nodeType":"93","messageId":"94","endLine":13,"endColumn":68},{"ruleId":"91","severity":1,"message":"92","line":15,"column":53,"nodeType":"93","messageId":"94","endLine":15,"endColumn":61},{"ruleId":"91","severity":1,"message":"92","line":19,"column":50,"nodeType":"93","messageId":"94","endLine":19,"endColumn":60},{"ruleId":"67","severity":1,"message":"95","line":1,"column":36,"nodeType":"69","messageId":"70","endLine":1,"endColumn":46},{"ruleId":"96","severity":1,"message":"97","line":18,"column":18,"nodeType":"98","messageId":"99","endLine":18,"endColumn":20},{"ruleId":"100","severity":1,"message":"101","line":33,"column":6,"nodeType":"102","endLine":33,"endColumn":8,"suggestions":"103"},{"ruleId":"100","severity":1,"message":"101","line":87,"column":6,"nodeType":"102","endLine":87,"endColumn":8,"suggestions":"104"},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'BrowserRouter' is defined but never used.","'Routes' is defined but never used.","'Route' is defined but never used.","'TopBar' is defined but never used.","'MovieTable' is defined but never used.","'DateAndTimeTable' is defined but never used.","'data2' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'useState' is defined but never used.","'setCurrentMonth' is assigned a value but never used.","'yearChanged' is assigned a value but never used.","'setYearChanged' is assigned a value but never used.","'cur_year' is assigned a value but never used.","'cur_month' is assigned a value but never used.","'isShown' is assigned a value but never used.","no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","'useContext' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'seatInfo'. Either include it or remove the dependency array.","ArrayExpression",["105"],["106"],{"desc":"107","fix":"108"},{"desc":"107","fix":"109"},"Update the dependencies array to be: [seatInfo]",{"range":"110","text":"111"},{"range":"112","text":"111"},[959,961],"[seatInfo]",[2695,2697]]